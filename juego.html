<!DOCTYPE html>
<html>
<head>
	<title>Juego</title>
	<link rel="stylesheet" type="text/css" href="estilos2.css">
	<link rel="icon" href="java.png">
</head>
<body>
	<nav class="menu">
			<ul>
				<li><a href="index.html">Ejercicio 1</a></li>
				<li><a href="ejer2.html">Ejercicio 2</a></li>
				<li><a href="juego.html">Juego con N. randoms</a></li>
				<li><a href="anima.html">Animaci√≥n</a></li>
			</ul>
	</nav>
	<header>
		<h1 class="titulo">Blackjack o 21</h1>
		<nav class="reglas">
			<ul>
				<li>
					<p>
						(version propia) El juego de cartas llamado Blackjack o 21 para los amigos.
					</p>
				</li>
				<li>
					<p>
						Consiste en llegar a la cantidad requerida mediante la suma de numeros aleatorios en 3 turnos (o menos).
					</p>
				</li>
				<li>
					<p>
						El jugador podra tirar hasta 3 veces para para alcanzar el numero 21.
					</p>
				</li>
				<li>
					<p>
						Tambien tendra la eleccion de pasar por si cree que se va a exceder el limite, si no se siente con suerte.(mejor prevenir que lamentar).
					</p>
				</li>
				<li>
					<p>
						Para ganar tendra que sacar una sumatoria de 21 o si tu y la maquina no superaron los 21, el que mas se acerque ganara la partida.
					</p>
				</li>
			</ul>
		</nav>
	</header>
	<img class="img1" src="p2.png">
	<img class="img2" src="p1.png">
	<div class="container">
		<p id="demo6">Jugador 1</p>
		<p id="demo0">La Maquina</p>
		<p id="demo"></p>
		<p id="demo1"></p>
		<p>TOTAL</p>
		<p>TOTAL</p>
		<p id="demo2"></p>
		<p id="demo3"></p>
		<button id="btn2">Iniciar</button>
		<button id="btn">Pasar</button>
		<input type="button" id="btn3" value="Reiniciar Juego" onclick="location.reload()"/>
		<p id="demo5"></p>
	</div>

	<section>
		<form>
			<script type="text/javascript">
				var p=0
				var m=0
				var l=0
				function turno(){
					if (l<3){
						a=Math.floor((Math.random() * 11)+1);
						b=Math.floor((Math.random() * 11)+1);
						c=Math.floor((Math.random() * 2)+1);
						l++;
						p=p+parseInt(a);
						if (m+parseInt(b)<21){
							m=m+parseInt(b);
						}
						else{
							if (m+parseInt(b)==21){
								m=m+parseInt(b);
							 }
							else{
								if (c==1){
								m=m+parseInt(b);
								}
							}
						}
						document.getElementById("demo").innerHTML = a;
						document.getElementById("demo1").innerHTML = b;
						document.getElementById("demo2").innerHTML = p;
						document.getElementById("demo3").innerHTML = m;
					}
					if (l==3){
						if (p<=21){
							if (m>21){
								document.getElementById("demo5").innerHTML="El ganador es Jugador 1";
							}
							else{
								if (p>m){
									document.getElementById("demo5").innerHTML="El ganador es Jugador 1";
								}
								else{
									if (p==m){
										document.getElementById("demo5").innerHTML="Empate";
									}
									else{
										document.getElementById("demo5").innerHTML="El ganador es la Maquina";
									}
								}
							}
						}
						else{
							if (m>21){
								document.getElementById("demo5").innerHTML="Empate";
							}
							else{
								document.getElementById("demo5").innerHTML="El ganador es la Maquina";
							}
							
						}
					}
				}
				function pasar(){
					if (l>3){
						p=0
						m=0
						l=0
					}
					else{
						a=Math.floor((Math.random() * 11)+1);
						b=Math.floor((Math.random() * 11)+1);
						c=Math.floor((Math.random() * 2)+1);
						l++;
						p=p;
						if (p>m){
							m=m+parseInt(b);
						}
						if (m+parseInt(b)<21){
							m=m+parseInt(b);
						}
						else{
							if (m+parseInt(b)==21){
								m=m+parseInt(b);
							 }
							else{
								if (m !=21){
									if (c==1){
										m=m+parseInt(b);
									}
								}	
							}
						}
						document.getElementById("demo").innerHTML = a;
						document.getElementById("demo1").innerHTML = b;
						document.getElementById("demo2").innerHTML = p;
						document.getElementById("demo3").innerHTML = m;
						if (l==3){
							if (p<=21){
								if (m>21){
									document.getElementById("demo5").innerHTML="El ganador es Jugador 1";
								}
								else{
									if (p>m){
										document.getElementById("demo5").innerHTML="El ganador es Jugador 1";
									}
									else{
										if (p==m){
											document.getElementById("demo5").innerHTML="Empate";
										}
										else{
											document.getElementById("demo5").innerHTML="El ganador es la Maquina";
										}
									}
								}
							}
							else{
								if (m>21){
									document.getElementById("demo5").innerHTML="Empate";
								}
								else{
									document.getElementById("demo5").innerHTML="El ganador es la Maquina";
								}
								
							}
						}

					}
					
				}
				var fn=document.getElementById("btn");
				fn.addEventListener("click",pasar)
				var c=document.getElementById('btn2');
				c.addEventListener('click',turno);
			</script>
		</form>
	</section>
</body>
</html>
